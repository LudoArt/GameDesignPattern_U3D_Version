# 序列型模式

## 双缓冲

双缓冲主要应用是屏幕的刷新。

两个缓冲区，第一个显示在屏幕上的时候，计算机计算下一帧要显示的内容，缓冲在第二个缓冲区，等待第二个缓冲区写满后，显示第二个缓冲区的内容，同时将第三帧的计算结果缓存在第一个缓冲区，如此交替显示。

缺点：

- 交换本身需要时间
- 增加了内存使用

## 游戏循环

游戏核心，主要是时间问题。

如何控制游戏逻辑的更新频率，控制逻辑更新和渲染更新之间的协调，控制游戏速度，控制不同平台不同性能机器之间的表现等。

参考文献：

https://gafferongames.com/post/fix_your_timestep/

https://docs.unity3d.com/Manual/ExecutionOrder.html

## 更新方法

简而言之：游戏世界维护一个对象集合。每个对象实现一个更新方法以再每帧模拟自己的行为。而游戏循环在每帧对集合中所有的对象调用其更新方法，以实现和游戏世界同步更新。

Update方法可以依存于实体类/组件类/代理类中。

未被利用的对象，可以使用标记，也可以使用一个单独的集合来维护这些活跃的对象。

更新方法与游戏循环和组件模式共同构成了多数游戏引擎的核心部分。

参考文献：

https://docs.unity3d.com/ScriptReference/MonoBehaviour.Update.html